/*! jQuery.classy() - v0.0.2a - 2012-12-27
* Copyright (c) 2012 Adam Coulombe; Licensed MIT, GPL */
(function(b){var a=b.fn.bind;b.fn.bind=function(){arguments[0]=b.extendEventPrefixes(arguments[0]);var d=a.apply(this,arguments);return d};var c=b.fn.unbind;b.fn.unbind=function(){arguments[0]=b.extendEventPrefixes(arguments[0]);var d=c.apply(this,arguments);return d};b.extend({extendEventPrefixes:function(f){if(typeof f==="string"){var d=b.getBrowserVendorPrefix();f=f.replace("transitionend","transitionend "+d+"TransitionEnd");f=f.replace("animationstart","animationstart "+d+"AnimationStart");f=f.replace("animationiteration","animationiteration "+d+"AnimationIteration");f=f.replace("animationend","animationend "+d+"AnimationEnd")}return f},getBrowserVendorPrefix:function(g){var e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/;var d=document.getElementsByTagName("script")[0];for(var f in d.style){if(e.test(f)){prefix=f.match(e)[0].toLowerCase();if(!g){if(prefix=="ms"){prefix="MS"}if(prefix=="moz"){prefix="Moz"}}return prefix}}if("WebkitOpacity" in d.style){return"webkit"}if("KhtmlOpacity" in d.style){return"khtml"}return""},classy:{apply:function(g,f,d){if(typeof f.add=="string"){g.addClass(f.add)}else{if(typeof f.add=="object"){for(var e in f.add){if(e==0&&typeof f.add[0]=="string"){g.addClass(f.add[0])}else{if(typeof f.add[e]=="object"){if(typeof f.add[e][0]=="string"){b(f.add[e][0]).addClass(f.add[e][1])}else{f.add[e][0].addClass(f.add[e][1])}}}}}}if(typeof f.remove=="string"){g.removeClass(f.remove)}else{if(typeof f.remove=="object"){for(var e in f.remove){if(e==0&&typeof f.remove[0]=="string"){g.removeClass(f.remove[0])}else{if(typeof f.remove[e]=="object"){if(typeof f.remove[e][0]=="string"){b(f.remove[e][0]).removeClass(f.remove[e][1])}else{f.remove[e][0].removeClass(f.remove[e][1])}}}}}}if(typeof f.call=="function"){b.proxy(f.call,g)(d)}},map:function(f,g,d){if(typeof d.add=="string"||typeof d.add=="object"||typeof d.remove=="string"||typeof d.remove=="object"||typeof d.call=="function"){$elData=f.data();var h=function(e){console.log(e);if(!d.eventPersist){f.unbind(g)}else{if(!f.data("classy-"+g+"-persist")){f.data("classy-"+g+"-persist",g)}}b.classy.apply(f,d,g,e)};if(!d.eventPersist||!f.data("classy-"+g+"-persist")){f.bind(g,h)}}}}});b.fn.extend({classy:function(){var d={};var i=null;if(typeof arguments[0]==="string"){d={add:arguments[0],end:{}}}else{if(typeof arguments[0]==="object"){d=arguments[0];d.end=arguments[0].end||{};i=d.end.call}}if(typeof arguments[1]==="function"){if(i){d.end.call=function(){i();arguments[1]()}}else{d.end.call=arguments[1]}}else{if(arguments[2]&&typeof arguments[1]==="function"){if(i){d.end.call=function(){i();arguments[2]()}}else{d.end.call=arguments[2]}}if(typeof arguments[1]==="object"){if(d.end.add||d.end.remove||d.end.call){d.end.add=d.end.add?d.end.add+arguments[1].add:arguments[1].add;d.end.remove=d.end.remove?d.end.remove+arguments[1].remove:arguments[1].remove;if(typeof d.end.call==="function"&&typeof arguments[1].call==="function"){var g=d.end.call;var e=arguments[1].call;var f=function(j){e(j);g(j)};d.end.call=f}}else{d.end=arguments[1]}}}var h={add:null,remove:null,call:null,start:{add:null,remove:null,call:null,eventPersist:null},end:{add:null,remove:null,call:null,eventPersist:null},iteration:{add:null,remove:null,call:null,eventPersist:true},type:null};var d=b.extend(h,d);return this.each(function(){var j=b(this);if(!d.type){if(parseFloat(j.css("-"+b.getBrowserVendorPrefix()+"-transition-duration"))>0||parseFloat(j.css("transition-duration"))>0){d.type="transition"}else{d.type="animation"}}var k=d.type+"end";b.classy.map(j,k,d.end);if(d.type=="animation"){b.classy.map(j,"animationstart",d.start);b.classy.map(j,"animationiteration",d.iteration)}b.classy.apply(j,d)})}})})(jQuery);